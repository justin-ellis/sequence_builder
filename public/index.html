<!DOCTYPE html>
<html ng-app="sequence-builder">
<head>
	<title>Sequence Builder</title>
	<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="./css/style.css">
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
	<script type="text/javascript" src="js/app.js"></script>
	<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
	<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body ng-controller="mainController as ctrl">
<div> <button class="btn btn-default" ng-click="ctrl.displayLogin()">Register or Log In</button>
<button ng-if="ctrl.loggedIn" ng-click="ctrl.logout()">Log out</button>
</div>

<div ng-hide="ctrl.concealLogin">
<form ng-submit="ctrl.login()" ng-if="ctrl.showLogin">
	<h2>Log In</h2>
	Username: <input type="text" ng-model="ctrl.username"/>
	Password: <input type="text" ng-model="ctrl.password"/>
	<input type="submit" ng-click="ctrl.hideLogin()" value="Log in"/>
</form>

<form ng-if="ctrl.showLogin" ng-submit="ctrl.registerUser()">
	<h2>Register</h2>
	Username: <input type="text" ng-model="ctrl.registeredUsername"/>
	Password: <input type="text" ng-model="ctrl.registeredPassword"/>
	<input type="submit" ng-click="ctrl.hideLogin()" value="Register"/>
</form>
</div>

<div>
	<button class="btn btn-default" ng-click="ctrl.toggleDetails('name')">Toggle Name</button>
	<button class="btn btn-default" ng-click="ctrl.toggleDetails('sanskrit')">Toggle Sanskrit</button>
	<button class="btn btn-default" ng-click="ctrl.toggleDetails('picture')">Toggle Picture</button>
	<button class="btn btn-default" ng-click="ctrl.toggleDetails('category')">Toggle Category</button>
	<button class="btn btn-default" ng-click="ctrl.toggleDetails('description')">Toggle Description</button>
	<button class="btn btn-default" ng-click="ctrl.toggleDetails('benefits')">Toggle Benefits</button>
</div>

<div class="filterSelect">
<h4> Filter Postures:</h4>
<select class="selectpicker" ng-model="difficultyFilter"
	data-ng-options="difficulty.difficulty as difficulty.name for difficulty in ctrl.asanaDifficulties">
		<option value selected="selected">All Difficulties</option>
</select>

<select class="selectpicker" ng-model="categoryFilter"
	data-ng-options="category.category as category.name for category in ctrl.asanaCategories">
		<option value selected="selected">All Categories</option>
</select>

<input type="text" placeholder="Downward Dog" ng-model="nameFilter">
</div>

<div id="poseDiv" data-ng-repeat="pose in ctrl.poses | filter:(!!difficultyFilter || undefined) && {difficulty: difficultyFilter} | filter: (!!categoryFilter || undefined) && {category: categoryFilter} | filter: nameFilter">
	<ul class="list-group">
		<li ng-show="ctrl.showName" class="list-group-item list-group-item-info">{{pose.pose_name}} </li>
		<li ng-show="ctrl.showSanskrit" class="list-group-item list-group-item-info">{{pose.sanskrit_name}}	<br/>

			<button class="btn btn-default btn-sm" ng-show="!isHidden" ng-click="isHidden = true">{{ctrl.showTranslation}}</button>
			<button  class="btn btn-default btn-sm" ng-show="isHidden" ng-click="isHidden = false">{{ctrl.hideTranslation}}</button> <br/>
			<span ng-show="isHidden">{{pose.translation.join(", ")}}</span>
		</li>
		 <li ng-show="ctrl.showPicture" class="list-group-item"> <img class="posePicture" ng-src="{{pose.file_reference}}"/> </li>
		 <li ng-show="ctrl.showDescription" class="list-group-item" > Description: {{pose.description.join(", ")}} </li>
		<li ng-show="ctrl.showCategory" class="list-group-item" >Category: {{pose.category}} </li>
		<li ng-show="ctrl.showBenefits" class="list-group-item" >Benefits: {{pose.benefits}} </li>
		<li ng-show="ctrl.showDifficulty" class="list-group-item list-group-item-warning">Difficulty: {{pose.difficulty}}</li>
	</ul>
</div>
</body>
</html>